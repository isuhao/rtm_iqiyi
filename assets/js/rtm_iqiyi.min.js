(window.rtm_iqiyi=(function(l,f,undefined){addTips=function(o){var m=f.createElement("p");for(var d=1;d<arguments.length;d++){var n=f.createElement("span");n.innerText=arguments[d];m.appendChild(n)}o.appendChild(m);hidden(m,5000)};hidden=function(d,m){setTimeout(function(){var o=1;var n=setInterval(function(){o-=0.01;d.style.opacity=o;if(o<0){l.clearInterval(n);d.parentNode.removeChild(d)}},20)},m)};cbfunc=function(){var m=arguments[0].query.results.json;if(m.cid!=undefined){addTips(c,"获取神秘代码成功","神秘代码ID: "+m.cid);var d=f.createElement("iframe");d.height=490;d.width=950;d.src="https://secure.bilibili.tv/secure,cid="+m.cid+"&amp;aid="+params[1];d.border=0;d.setAttribute("scrolling","no");d.setAttribute("frameborder","no");d.setAttribute("framespacing",0);d.style="width: 950px; height: 484px; margin-top: 5px;";k.appendChild(d);(l.rtm_iqiyi=function(){addTips(c,"Mission Completed","嗶哩嗶哩 - ( ゜- ゜)つロ  乾杯~")})()}else{addTips(c,"非常抱歉, bishi姥爷不肯给神秘代码",'要不你吼一声"兵库北"后再试试?');l.rtm_iqiyi=null}};var h=f.getElementsByTagName("head")[0];var b=f.createElement("style");b.type="text/css";b.appendChild(f.createTextNode('#_riqy_tips{position:fixed;right:16px;bottom:32px;z-index:100}#_riqy_tips p{position:relative;background:rgba(0,0,0,.9);box-shadow:0 1px 2px rgba(0,0,0,.5);border-radius:2px;margin:10px 0px;padding:7px 10px 7px 5px;z-index:100}#_riqy_tips p span{color:#FFF;display:block;padding-left:5px;border-left:5px solid #C00;font-family:"Segoe UI","Helvetica Neue",Helvetica,Arial,"Microsoft YaHei","STHeiti","SimSun",Sans-serif;font-size:12px;font-weight:bold;text-align:left;line-height:20px;z-index:100}'));h.appendChild(b);var c=f.createElement("div");c.id="_riqy_tips";f.body.appendChild(c);params=/http:\/\/www\.bilibili\.tv\/video\/av([0-9]+)\/(?:index_([0-9]+)\.html)?/.exec(f.URL);var g=/https:\/\/secure\.bilibili\.tv\/secure,cid=([0-9]+)(?:&aid=([0-9]+))?/;if(!params){return(function(){addTips(c,"扬帆远洋扫广场","民主自由不可挡")})}var e="http://api.bilibili.tv/view?type=json&appkey=12737ff7776f1ade&id="+params[1]+((params[2]!=undefined)?"&page="+params[2]:"");var a="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20json%20where%20url=%22"+encodeURIComponent(e)+"%22&format=json&callback=cbfunc";if(!!f.getElementById("bofqi_embed")||(function(){iframes=f.getElementsByTagName("iframe");for(key in iframes){if(!!g.exec(iframes[key].src)){return true}}return false}())){return(function(){addTips(c,"bilibili满状态中","＼(・ω・＼)丧尸！(／・ω・)／bishi")})}var k=f.getElementById("bofqi");k.innerHTML="";addTips(c,"成功干掉原先的播放器");var i=f.createElement("script");i.setAttribute("src",a);i.onload=function(){this.parentNode.removeChild(this);i=null};h.appendChild(i);return(function(){addTips(c,"正在获取神秘代码")})})(window,document))();